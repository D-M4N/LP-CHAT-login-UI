<!-- Appchat Code -->
<script>
  // Replace YOUR_FIREBASE_CONFIG_OBJECT with the Firebase configuration object that you copied from the Firebase console
  const firebaseConfig = {
  apiKey: "AIzaSyCXImSzbJhdzmVkcMzZc8LgN9EDaCH6WUw",
  authDomain: "lowpro-chat.firebaseapp.com",
  databaseURL: "https://lowpro-chat-default-rtdb.firebaseio.com",
  projectId: "lowpro-chat",
  storageBucket: "lowpro-chat.appspot.com",
  messagingSenderId: "401818287275",
  appId: "1:401818287275:web:2d2e236e4c9d94a3cc0bee",
  measurementId: "G-BB1WMBCHER"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
<script>
  // Sign in the user anonymously
  firebase.auth().signInAnonymously().then(() => {
    // User is signed in anonymously
  }).catch((error) => {
    // Handle sign-in errors
    console.error("Error signing in: ", error);
  });
</script>
<script>
  // Get the message input and send button elements
  const messageInput = document.getElementById("message-input");
  const sendButton = document.getElementById("send-button");

  // Send the message to Firestore
  sendButton.addEventListener("click", () => {
    if (messageInput.value) {
      const message = {
        text: messageInput.value,
        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
        username: firebase.auth().currentUser.displayName || "Anonymous",
      };

      // Add the message to the "messages" collection in Firestore
      db.collection("messages").add(message);

      // Clear the message input
      messageInput.value = "";
    }
  });
</script>
<script>
  // Get the messages list element
  const messagesList = document.getElementById("messages-list");

  // Listen for new messages in the "messages" collection in Firestore
  db.collection("messages").orderBy("timestamp").onSnapshot((snapshot) => {
    // Clear the messages list
    messagesList.innerHTML = "";

    // Add each message to the messages list
    snapshot.docs.forEach((doc) => {
      const message = doc.data();
      const messageElement = document.createElement("li");
      messageElement.textContent = `${message.username}: ${message.text}`;
      messagesList.appendChild(messageElement);
    });
  });
</script>



<!-- Media Upload Code -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LowPro Chat</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <link rel="stylesheet" href="./index.css">
    <style>
      #image-container {
        width: 100%;
        height: auto;
        max-width: 400px;
        margin: 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    
      #image-container img {
        max-width: 100%;
        height: auto;
      }
    </style>
  </head>
  <body>
    <h1>LowPro Chat</h1>
    <form id="message-form">
      <!-- Send Text button -->
      <input type="text" id="message-input" placeholder="Type your message here" required>
      <button type="submit">Send</button>
      <!-- Send Image Button -->
      <input type="file" id="image-input" accept="image/*" />
      <button type="button" id="media-upload-btn">Upload Image</button>
    </form>
    <ul id="messages"></ul>
    <ul id="media-list" class="media-list"></ul>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <ul id="messages"></ul>
    <div id="image-container"></div>
    <script src="index.js"></script>    
  </body>
</html>